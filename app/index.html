<!doctype html>
<html lang="en" ng-app="bookingApp">

<head>
  <meta charset="utf-8">
  <title>ITrex Test App</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" />
  <link rel="stylesheet" href="style.css" />

  <script data-require="jquery@3.1.1" data-semver="3.1.1" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.14/angular.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.14/angular-route.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.min.js"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/css/bootstrap-datepicker.min.css" />
  <script src="https://use.fontawesome.com/b63bef9355.js"></script>

  <script src="app.module.js"></script>
  <script src="app.config.js"></script>
  <script src="shared/shared.module.js"></script>
  <script src="app.controller.js"></script>
  <script src="components/components.module.js"></script>


  <script src="shared/services/data-exchange.service.js"></script>
  <script src="shared/services/log.service.js"></script>
  <script src="shared/services/hotels.services.js"></script>
  <script src="shared/services/cars.service.js"></script>
  <script src="shared/services/helper.service.js"></script>

  <script src="shared/directives/datepicker.directive.js"></script>

  <script src="components/flights/flights.controller.js"></script>
  <script src="components/cars/cars.controller.js"></script>
  <script src="components/hotels/hotels.controllers.js"></script>

</head>

<body>

  <div class="container" ng-controller="AppCtrl as ctrl">

    <div class="row">

      <div class="col-3">
        <ul class="nav nav-tabs nav-tabs--vertical nav-tabs--left" role="navigation">
          <li class="nav-item">
            <a href="#flights" class="nav-link" ng-class="{active: ctrl.isPanelActive('flights')}" ng-click="ctrl.setActivePanel('flights')"><i class="fa fa-plane" aria-hidden="true"></i> Flights</a>
          </li>
          <li class="nav-item">
            <a href="#cars" class="nav-link" ng-class="{active: ctrl.isPanelActive('cars')}" ng-click="ctrl.setActivePanel('cars')"><i class="fa fa-car" aria-hidden="true"></i> Cars</a>
          </li>
          <li class="nav-item">
            <a href="#hotels" class="nav-link" ng-class="{active: ctrl.isPanelActive('hotels')}" ng-click="ctrl.setActivePanel('hotels')"><i class="fa fa-hotel" aria-hidden="true"></i> Hotels</a>
          </li>
        </ul>
      </div>


      <div class="col-6">
        <div class="tab-content">
          <div class="tab-pane fade show active" role="tabpanel">
            <form>
              <div class="form-row">
                <div class="form-group col-md-6">
                  <label for="startDate">Start Date</label>
                  <input type="text" id="startDate" class="form-control" ng-model="vm.startDate" datepicker type="date" />
                </div>
                <div class="form-group col-md-6">
                  <label for="endDate">End Date</label>
                  <input type="text" id="endDate" class="form-control" ng-model="vm.endDate" datepicker />
                </div>
              </div>

              <div class="form-group">
                <div ng-view class="view-frame"></div>
              </div>

              <div class="form-group">
                <a ng-click="ctrl.clear()" href="javascript:void(0);">Clear</a>
                <button type="button" class="btn btn-primary" ng-click="ctrl.search()">Search</button>
              </div>
            </form>
          </div>
        </div>
      </div>

    </div>

    <div class="row">
      <div class="col">

        <ul class="list-group">
          <li class="list-group-item" ng-repeat="log in vm.logs" ng-switch on="log.type">
            <div ng-switch-when='flights'>
              <i class="fa fa-plane" aria-hidden="true"></i>
              <span>&nbsp;{{ ::ctrl.formatDate(log.startDate) | date: 'MMMM dd' }} -
                {{ ctrl.formatDate(log.endDate) | date: 'MMMM dd' }}, {{ ::log.fromDate }} - {{ ::log.toDate }}
              </span>
            </div>
            <div ng-switch-when='cars'>
              <i class="fa fa-car" aria-hidden="true"></i>
              <span>&nbsp;{{ ::ctrl.formatDate(log.startDate) | date: 'MMMM dd' }} -
                {{ ctrl.formatDate(log.endDate) | date: 'MMMM dd' }}, {{ ::log.carType }} - {{ ::log.location }}
              </span>
            </div>
            <div ng-switch-when='hotels'>
              <i class="fa fa-bed" aria-hidden="true"></i>
              <span>&nbsp;{{ ::ctrl.formatDate(log.startDate) | date: 'MMMM dd' }} -
                {{ ctrl.formatDate(log.endDate) | date: 'MMMM dd' }}, <span ng-bind-html="log.hotelRating"></span> - {{
                ::log.location }}
              </span>

            </div>
            <div class="list-close-icon">
              <i class="fa fa-window-close" aria-hidden="true" ng-click="ctrl.removeLogByIndex($index)"></i>
            </div>

          </li>

        </ul>
      </div>
    </div>

  </div>

</body>

</html>